<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        div.event {
            border: 2px solid black;
            width: 45vw;
            margin: 10px;
            padding: 10px;
        }
        
        form{
            padding: 10px;
            border: 2px solid;
            width: 75%;
        }
        #log{
            border: 1px solid;
            background-color: rgb(221, 221, 218);
            max-height: 200px;
            overflow-y: auto;
            width: auto;
        }
    </style>
</head>
<body>
    <div class="event"> 
        <h3>Mouse Event Handlers</h3>
        <p>Click the buttons to see the event handlers in action.</p>
        <p>Check the console for output.</p>
        <button id="click" onclick="console.log('Clicked!')">Click Me</button>
        <button id="over" onmouseover="console.log('Mouse Over')">Mouse Over</button>
        <button id="out" onmouseout="console.log('mouse out')">Mouse Out</button>
        <button id="up" onmouseup="console.log('Mouse Up')">Mouse Up</button>
        <button id="down" onmousedown="console.log('mouse down')">Mouse Down</button>
        <button id="move" onmousemove="console.log('mouse move')">Mouse Move</button>
    </div>

    <div class='event'>
        <h3>Keyword Event Handlers</h3>
        <p>Press the Keyword buttons to see the event handlers in action.</p>               
        <input type="text" id="keyword" placeholder="Type something..."         
        onkeydown="document.getElementById('note').innerHTML='<b>Key is pressed.</b>'; " 
        onkeyup="document.getElementById('note').innerHTML='<b>Key is released.</b>'; "
        onfocus="this.placeholder='Welcome Back!!!'"/>
        <p id="note"></p>    

        <p>The <b>onkeydown</b> event occurs when the user presses a key on the keyboard. <br>
        The <b>onkeyup</b> event occurs when the user releases a key on the keyboard.</p>
    </div>    

    <div class="event">
        <h3>Form Event Handelling</h3>    
        <form onsubmit="FormEvent('submit'); return false">
            Field1:
            <input type="text" onfocus="FormEvent('focus')" onblur="handleBlur()" oninput="FormEvent('input')" onchange="handleChange()"
            onsubmit="FormEvent('submit')" value="form events"/>
            <!-- <br><br> -->
            
            <button type="submit">Submit</button>
            <p id="formStatus"> </p>
        </form>
    </div>

    <div class="event">
        <h3>Document/Window Event Handelling</h3>
        <p>Resize the window or reload/close the page.
        <a href="https://www.google.com">leave the page</a>
        </p>    
        <div id="log"> </div>
    </div>
    
    <script>
        let changed= false
        function handleChange() {
            changed= true
            FormEvent('change')
        }

        function handleBlur() {
            if(!changed)
                FormEvent('blur')
            changed= false
        }

        function FormEvent(action){
            let info;
            if (action == 'focus')
                info = `<b>Event : onfocus</b><br>When the user focuses on an element.`
            else if (action == 'blur')
                info = `<b>Event : onblur</b><br>When the focus is away from a form element.`
            else if (action == 'input')
                info = `<b>Event : oninput</b><br>When the user is typing...`
            else if(action == 'change')
                info = `<b>Event : onchange</b><br>When the user modifies or changes the value of a form element.`
            else if(action == 'submit')
                info = `<b>Event : onsubmit</b><br>When the user submits the form.`
            else  
                info = `<b>Warning</b><br>No such event defined.`
            document.getElementById('formStatus').innerHTML= info;
        }            

        const logDiv = document.getElementById('log')
        function log(message){
            const p= document.createElement('p');
            p.textContent= message
            logDiv.appendChild(p)            
        }
        
        //load event 
        window.onload= () => {
            log('âœ… Window Loaded!')
        };

        window.onbeforeunload= ()=> {                        
            return 'are you sure to leave the page'
        };

        window.onresize = ()=> {
            log(`ðŸ“ Window resized: ${window.innerWidth} x ${window.innerHeight}`)
        };
        // window.addEventListener('load', () => log('âœ… Window Loaded!'));        
    </script>
</body>
</html>